import{j as r,A as d,L as g,H as x}from"./index-3f9fbaf7.js";import{u as j}from"./AuthHook-4cd29b78.js";import{B as h}from"./ButtonLoading-e86491c1.js";import{u as _,F as s}from"./FormFieldError-d7e74bfa.js";import{C as v}from"./DoFetch-1e9456b0.js";import"./RoutePaths-7db3249f.js";import"./ThemeProvider-ce2567eb.js";import"./iconBase-f096ba74.js";const b="_container_ydzv6_1",f="_inputlogin_ydzv6_15",y="_loginForm_ydzv6_23",S="_loginLabel_ydzv6_37",E="_button_ydzv6_49",L={container:b,inputlogin:f,loginForm:y,loginLabel:S,button:E},C=()=>{var t,n;const{loginUser:i}=j(),{register:e,handleSubmit:l,setError:m,formState:{errors:o}}=_(),c=async u=>{const a=await i(u);if(a instanceof v){const p=a.status===401?"Sähköposti tai salasana on virheellinen":"Palvelinvirhe";m("root.serverError",{message:p})}};return r.jsxs("main",{className:L.container,children:[r.jsx(d,{}),r.jsxs("form",{onSubmit:l(c),children:[r.jsxs("label",{children:[r.jsx("input",{className:"medium line",type:"email",...e("email",{required:"Sähköposti vaaditaan"}),placeholder:"Sähköposti"}),r.jsx(s,{error:o.email})]}),r.jsxs("label",{children:[r.jsx("input",{className:"medium line",type:"password",placeholder:"Salasana",...e("password",{required:"Salasana vaaditaan"})}),r.jsx(s,{error:o.password})]}),((t=o.root)==null?void 0:t.serverError)&&r.jsx(s,{error:(n=o.root)==null?void 0:n.serverError}),r.jsx(h,{text:"Kirjaudu sisään"}),r.jsx(g,{style:{color:"black",textDecoration:"underline",fontWeight:"normal",marginTop:"1rem"},to:"/",children:"Etusivulle"})]}),r.jsx(x,{})]})};export{C as default};
