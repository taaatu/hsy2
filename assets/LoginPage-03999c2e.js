import{j as o,A as g,L as x,H as j}from"./index-0ba10711.js";import{u as b}from"./AuthHook-33b6345c.js";import{B as h}from"./ButtonLoading-f1c79938.js";import{u as _,F as e}from"./FormFieldError-a48cf72f.js";import{C as v}from"./DoFetch-1e0aed69.js";import"./RoutePaths-7db3249f.js";import"./ThemeProvider-e9b9720e.js";import"./iconBase-915c90f0.js";const f="_container_ydzv6_1",y="_inputlogin_ydzv6_15",L="_loginForm_ydzv6_23",S="_loginLabel_ydzv6_37",E="_button_ydzv6_49",r={container:f,inputlogin:y,loginForm:L,loginLabel:S,button:E},C=()=>{var n,t;const{loginUser:l}=b(),{register:a,handleSubmit:m,setError:c,formState:{errors:s}}=_(),u=async p=>{const i=await l(p);if(i instanceof v){const d=i.status===401?"Sähköposti tai salasana on virheellinen":"Palvelinvirhe";c("root.serverError",{message:d})}};return o.jsxs("main",{className:r.container,children:[o.jsx(g,{}),o.jsxs("form",{onSubmit:m(u),className:r.loginForm,children:[o.jsxs("label",{className:r.loginLabel,children:[o.jsx("input",{className:"medium line",type:"email",...a("email",{required:"Sähköposti vaaditaan"}),placeholder:"Sähköposti"}),o.jsx(e,{error:s.email})]}),o.jsxs("label",{className:r.loginLabel,children:[o.jsx("input",{className:"medium line",type:"password",placeholder:"Salasana",...a("password",{required:"Salasana vaaditaan"})}),o.jsx(e,{error:s.password})]}),((n=s.root)==null?void 0:n.serverError)&&o.jsx(e,{error:(t=s.root)==null?void 0:t.serverError}),o.jsx(h,{text:"Kirjaudu sisään",classname:r.button}),o.jsx(x,{style:{color:"black",textDecoration:"underline",fontWeight:"normal",marginTop:"1rem"},to:"/",children:"Etusivulle"})]}),o.jsx(j,{})]})};export{C as default};
