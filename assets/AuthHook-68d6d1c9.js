import{a as n,r as a,M as u,U as g}from"./index-d81204ee.js";import{A as i,a as c}from"./RoutePaths-7db3249f.js";import{u as l,C as m}from"./DoFetch-16798144.js";const C=()=>{const s=n(),{doFetch:t}=l(),{setCurrentUser:o}=a.useContext(u);return{loginUser:async r=>{try{const e=await t("auth/login","POST",r);return console.log("login user input: ",r),console.log("login user",e),sessionStorage.setItem("token",e.token),o(e.user),e.user.user_group===g.ADMIN?s(i):s(c),e}catch(e){return console.error("Login user: ",e.message),new m(e.message,e.status)}},logoutUser:()=>{sessionStorage.removeItem("token"),o(null),s("/login")}}};export{C as u};
