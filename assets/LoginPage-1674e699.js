import{j as r,A as c,L as x,H as j}from"./index-0c36aa7d.js";import{u as h}from"./AuthHook-dacd41e2.js";import{B as f}from"./ButtonLoading-e1e2265f.js";import{u as g,F as e}from"./FormFieldError-4645ad26.js";import{C as v}from"./DoFetch-8ef17c99.js";import"./RoutePaths-7db3249f.js";import"./ThemeProvider-e118230a.js";import"./iconBase-40754b0c.js";const A=()=>{var a,t;const{loginUser:n}=h(),{register:o,handleSubmit:l,setError:m,formState:{errors:s}}=g(),p=async u=>{const i=await n(u);if(i instanceof v){const d=i.status===401?"Sähköposti tai salasana on virheellinen":"Palvelinvirhe";m("root.serverError",{message:d})}};return r.jsxs("main",{children:[r.jsx(c,{}),r.jsxs("form",{onSubmit:l(p),children:[r.jsxs("label",{children:[r.jsx("input",{className:"medium line",type:"email",...o("email",{required:"Sähköposti vaaditaan"}),placeholder:"Sähköposti"}),r.jsx(e,{error:s.email})]}),r.jsxs("label",{children:[r.jsx("input",{className:"medium line",type:"password",placeholder:"Salasana",...o("password",{required:"Salasana vaaditaan"})}),r.jsx(e,{error:s.password})]}),((a=s.root)==null?void 0:a.serverError)&&r.jsx(e,{error:(t=s.root)==null?void 0:t.serverError}),r.jsx(f,{text:"Kirjaudu sisään"}),r.jsx(x,{style:{color:"black",textDecoration:"underline",fontWeight:"normal",marginTop:"1rem"},to:"/",children:"Etusivulle"})]}),r.jsx(j,{})]})};export{A as default};
